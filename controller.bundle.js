"use strict";(self.webpackChunkbattleshipsjs=self.webpackChunkbattleshipsjs||[]).push([[204,692,886],{426:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(537),i=n.n(r),o=n(645),s=n.n(o)()(i());s.push([e.id,".board {\n  display: flex;\n  flex-wrap: wrap;\n  width: 45%;\n  height: 100%;\n}\nbody,\nhtml {\n  width: 100%;\n  height: 100%;\n}\n* {\n  margin: 0;\n  padding: 0;\n}\nh1 {\n  text-align: center;\n}\n.container {\n  width: 100%;\n  height: 80%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.grid {\n  box-sizing: border-box;\n  border: 1px solid black;\n  width: 10%;\n  height: 10%;\n}\n.grid:hover {\n  border: 5px solid purple;\n  cursor: crosshair;\n}\n.text {\n  text-align: center;\n  margin: 0 auto;\n}\n","",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,eAAe;EACf,UAAU;EACV,YAAY;AACd;AACA;;EAEE,WAAW;EACX,YAAY;AACd;AACA;EACE,SAAS;EACT,UAAU;AACZ;AACA;EACE,kBAAkB;AACpB;AACA;EACE,WAAW;EACX,WAAW;EACX,aAAa;EACb,8BAA8B;EAC9B,mBAAmB;AACrB;AACA;EACE,sBAAsB;EACtB,uBAAuB;EACvB,UAAU;EACV,WAAW;AACb;AACA;EACE,wBAAwB;EACxB,iBAAiB;AACnB;AACA;EACE,kBAAkB;EAClB,cAAc;AAChB",sourcesContent:[".board {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  width: 45%;\r\n  height: 100%;\r\n}\r\nbody,\r\nhtml {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n* {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\nh1 {\r\n  text-align: center;\r\n}\r\n.container {\r\n  width: 100%;\r\n  height: 80%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n.grid {\r\n  box-sizing: border-box;\r\n  border: 1px solid black;\r\n  width: 10%;\r\n  height: 10%;\r\n}\r\n.grid:hover {\r\n  border: 5px solid purple;\r\n  cursor: crosshair;\r\n}\r\n.text {\r\n  text-align: center;\r\n  margin: 0 auto;\r\n}\r\n"],sourceRoot:""}]);const a=s},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(r)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(s[c]=!0)}for(var h=0;h<e.length;h++){var l=[].concat(e[h]);r&&s[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),i&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=i):l[4]="".concat(i)),t.push(l))}},t}},537:e=>{e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),o="/*# ".concat(i," */");return[t].concat([o]).join("\n")}return[t].join("\n")}},379:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},s=[],a=0;a<e.length;a++){var c=e[a],h=r.base?c[0]+r.base:c[0],l=o[h]||0,d="".concat(h," ").concat(l);o[h]=l+1;var u=n(d),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==u)t[u].references++,t[u].updater(p);else{var f=i(p,r);r.byIndex=a,t.splice(a,0,{identifier:d,updater:f,references:1})}s.push(d)}return s}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var o=r(e=e||[],i=i||{});return function(e){e=e||[];for(var s=0;s<o.length;s++){var a=n(o[s]);t[a].references--}for(var c=r(e,i),h=0;h<o.length;h++){var l=n(o[h]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}o=c}}},569:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},356:(e,t,n)=>{var r=n(386),i=n(214);const o=document.querySelector("#placement"),s=document.querySelector("#confirmBtn"),a=document.querySelector("dialog");o.addEventListener("click",(()=>{o.textContent="h"===o.textContent?"v":"h"})),s.addEventListener("click",(e=>{e.preventDefault(),a.close(s.value)}));const c=new class{constructor(){this.p1=new i.J5("bakr",document.querySelector(".player")),this.p2=new i.J5("ziad",document.querySelector(".enemy"),!0),this.current=this.p1,this.next=this.p2,this.ships=[{name:"Cruiser",id:1,length:5},{name:"Battleship",id:2,length:4},{name:"Carrier",id:3,length:3},{name:"Submarine",id:4,length:2},{name:"Destroyer",id:5,length:2}]}async placementLoop(){let e=document.querySelector("#placement");this.current.board.board=[];for(let e=0;e<this.current.board.size;e++)this.current.board.board[e]=[0,0,0,0,0,0,0,0,0,0];for(let t=0;t<5;t++){(0,r.vd)(this.current.name);const n=this.ships.find((e=>e.id===t+1));let i,o;(0,r.Nv)(`Place your ${n.name}`),(0,r.o3)(this.current),(0,r.f7)(this.next);do{o=await this.addListener(this.current),i=this.current.board.checkShipPlacement(o.x,o.y,e.textContent,n),this.removeListener(this.current)}while(!i);this.current.board.placeShip(o.x,o.y,e.textContent,n),(0,r.o3)(this.current)}this.switchTurn(this.current,this.next)}isGameOver(){return!!this.next.board.fleetSunk()}addListener(e){return new Promise((t=>{const n=e.UI.children,r=e.board.size;for(let e=0;e<n.length;e++)n[e].addEventListener("click",(()=>{t({x:Math.floor(e/r),y:e%r})}))}))}removeListener(e){const t=e.UI.children;for(let e=0;e<t.length;e++){let n=t[e],r=n.cloneNode(!0);n.parentNode.replaceChild(r,n)}}async gameLoop(){for(;;){(0,r.vd)(this.current.name),(0,r.o3)(this.current),(0,r.f7)(this.next);const e=await this.addListener(this.next),t=this.current.attack(this.next,e.x,e.y),n=-1===t?"already hit":0===t?"miss":"hit";if((0,r.Nv)(`${this.current.name} attacks ${this.next.name} at (${e.x}, ${e.y}) with ${n} `),-1!==t){if(1===t&&this.isGameOver())break;this.switchTurn(this.next,this.current)}}(0,r.o3)(this.p1),(0,r.o3)(this.p2),this.removeListener(this.p1),this.removeListener(this.p2),(0,r.je)(this.current.name)}switchTurn(e,t){this.removeListener(e),this.addListener(t);let n=this.current;this.current=this.next,this.next=n}};c.placementLoop().then((()=>c.placementLoop())).then((()=>c.gameLoop()))},214:(e,t,n)=>{n.d(t,{J5:()=>o});class r{constructor(e,t){this.id=e,this.length=t,this.hits=0}hit(){this.hits++}isSunk(){return this.length-this.hits==0}}class i{constructor(e){this.board=[];for(let t=0;t<e;t++)this.board[t]=[0,0,0,0,0,0,0,0,0,0];this.fleet=[],this.size=e}placeShip(e,t,n,i){const o=new r(i.id,i.length);if("h"===n)for(let n=t;n<t+o.length;n++)this.board[e][n]=o.id;else for(let n=e;n<e+o.length;n++)this.board[n][t]=o.id;return this.fleet.push(o),!0}checkShipPlacement(e,t,n="h",r){if("h"===n){if(t+r.length>=this.size)return!1;if("v"===n&&e+r.length>=this.size)return!1}if("h"===n){for(let n=t;n<t+r.length;n++)if(0!==this.board[e][n])return!1;return!0}for(let n=e;n<e+r.length;n++)if(0!==this.board[n][t])return!1;return!0}receiveAttack(e,t){return 0===this.board[e][t]?0:-1===this.board[e][t]?-1:(this.fleet.find((n=>n.id===this.board[e][t])).hit(),this.board[e][t]=-1,1)}fleetSunk(){return this.fleet.every((e=>e.isSunk()))}}class o{constructor(e,t,n=!1){this.name=e,this.board=new i(10),this.ai=n,this.UI=t}attack(e,t,n){return e.board.receiveAttack(t,n)}}},386:(e,t,n)=>{n.d(t,{f7:()=>v,o3:()=>b,Nv:()=>g,vd:()=>y,je:()=>C});var r=n(379),i=n.n(r),o=n(795),s=n.n(o),a=n(569),c=n.n(a),h=n(565),l=n.n(h),d=n(216),u=n.n(d),p=n(589),f=n.n(p),A=n(426),m={};m.styleTagTransform=f(),m.setAttributes=l(),m.insert=c().bind(null,"head"),m.domAPI=s(),m.insertStyleElement=u(),i()(A.Z,m),A.Z&&A.Z.locals&&A.Z.locals,document.querySelectorAll(".board").forEach((e=>{for(let t=0;t<10;t++)for(let t=0;t<10;t++){const t=document.createElement("div");t.classList.add("grid"),e.appendChild(t)}}));const b=e=>{const t=e.board.board,n=e.UI.querySelectorAll(".grid"),r=t.length;for(let e=0;e<r;e++)for(let i=0;i<r;i++){const o=n[i+e*r];0===t[e][i]?o.style.backgroundColor="blue":-1===t[e][i]?o.style.backgroundColor="red":o.style.backgroundColor="green"}},g=e=>{document.querySelector("#stat").textContent=e},v=e=>{const t=e.UI.children,n=e.board.board.length;for(let r=0;r<t.length;r++){let i=Math.floor(r/n),o=r%n;-1===e.board.board[i][o]?t[r].style.backgroundColor="red":t[r].style.backgroundColor="grey"}},y=e=>{document.querySelector("#turn").textContent=`${e}'s turn`},C=e=>{document.querySelector("#winner").textContent=`${e} wins!`}}},e=>{e(e.s=356)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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R0FBR3FKLEdBQ1hDLEVBQUluRyxNQUFNdUcsZ0JBQWtCLFFBQ0YsSUFBakJ2RCxFQUFNbkcsR0FBR3FKLEdBQ2xCQyxFQUFJbkcsTUFBTXVHLGdCQUFrQixNQUU1QkosRUFBSW5HLE1BQU11RyxnQkFBa0IsT0FFaEMsQ0FDRixFQUVJQyxFQUFnQkMsSUFDcEJ0RyxTQUFTQyxjQUFjLFNBQVM4QixZQUFjdUUsQ0FBSSxFQUU5Q0MsRUFBWTNDLElBQ2hCLE1BQU1HLEVBQU9ILEVBQU9JLEdBQUdDLFNBQ2pCbkIsRUFBT2MsRUFBT2YsTUFBTUEsTUFBTXJHLE9BQ2hDLElBQUssSUFBSUUsRUFBSSxFQUFHQSxFQUFJcUgsRUFBS3ZILE9BQVFFLElBQUssQ0FDcEMsSUFBSTJHLEVBQUlhLEtBQUtDLE1BQU16SCxFQUFJb0csR0FDbkJRLEVBQUk1RyxFQUFJb0csR0FDc0IsSUFBOUJjLEVBQU9mLE1BQU1BLE1BQU1RLEdBQUdDLEdBQ3hCUyxFQUFLckgsR0FBR21ELE1BQU11RyxnQkFBa0IsTUFFaENyQyxFQUFLckgsR0FBR21ELE1BQU11RyxnQkFBa0IsTUFFcEMsR0FFSUksRUFBY0MsSUFDbEJ6RyxTQUFTQyxjQUFjLFNBQVM4QixZQUFjLEdBQUcwRSxVQUFhLEVBRTFEQyxFQUFnQkMsSUFDcEIzRyxTQUFTQyxjQUFjLFdBQVc4QixZQUFjLEdBQUc0RSxTQUFjLEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYXR0bGVzaGlwc2pzLy4vc3JjL3N0eWxlLmNzcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwc2pzLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwc2pzLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcHNqcy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwc2pzLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwc2pzLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzIiwid2VicGFjazovL2JhdHRsZXNoaXBzanMvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcHNqcy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXBzanMvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwc2pzLy4vc3JjL2NvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcHNqcy8uL3NyYy9tb2RlbC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwc2pzLy4vc3JjL3N0eWxlLmNzcz83MTYzIiwid2VicGFjazovL2JhdHRsZXNoaXBzanMvLi9zcmMvdmlldy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBgLmJvYXJkIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtd3JhcDogd3JhcDtcclxuICB3aWR0aDogNDUlO1xyXG4gIGhlaWdodDogMTAwJTtcclxufVxyXG5ib2R5LFxyXG5odG1sIHtcclxuICB3aWR0aDogMTAwJTtcclxuICBoZWlnaHQ6IDEwMCU7XHJcbn1cclxuKiB7XHJcbiAgbWFyZ2luOiAwO1xyXG4gIHBhZGRpbmc6IDA7XHJcbn1cclxuaDEge1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG4uY29udGFpbmVyIHtcclxuICB3aWR0aDogMTAwJTtcclxuICBoZWlnaHQ6IDgwJTtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG59XHJcbi5ncmlkIHtcclxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xyXG4gIHdpZHRoOiAxMCU7XHJcbiAgaGVpZ2h0OiAxMCU7XHJcbn1cclxuLmdyaWQ6aG92ZXIge1xyXG4gIGJvcmRlcjogNXB4IHNvbGlkIHB1cnBsZTtcclxuICBjdXJzb3I6IGNyb3NzaGFpcjtcclxufVxyXG4udGV4dCB7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIG1hcmdpbjogMCBhdXRvO1xyXG59XHJcbmAsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL3N0eWxlLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtFQUNFLGFBQWE7RUFDYixlQUFlO0VBQ2YsVUFBVTtFQUNWLFlBQVk7QUFDZDtBQUNBOztFQUVFLFdBQVc7RUFDWCxZQUFZO0FBQ2Q7QUFDQTtFQUNFLFNBQVM7RUFDVCxVQUFVO0FBQ1o7QUFDQTtFQUNFLGtCQUFrQjtBQUNwQjtBQUNBO0VBQ0UsV0FBVztFQUNYLFdBQVc7RUFDWCxhQUFhO0VBQ2IsOEJBQThCO0VBQzlCLG1CQUFtQjtBQUNyQjtBQUNBO0VBQ0Usc0JBQXNCO0VBQ3RCLHVCQUF1QjtFQUN2QixVQUFVO0VBQ1YsV0FBVztBQUNiO0FBQ0E7RUFDRSx3QkFBd0I7RUFDeEIsaUJBQWlCO0FBQ25CO0FBQ0E7RUFDRSxrQkFBa0I7RUFDbEIsY0FBYztBQUNoQlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCIuYm9hcmQge1xcclxcbiAgZGlzcGxheTogZmxleDtcXHJcXG4gIGZsZXgtd3JhcDogd3JhcDtcXHJcXG4gIHdpZHRoOiA0NSU7XFxyXFxuICBoZWlnaHQ6IDEwMCU7XFxyXFxufVxcclxcbmJvZHksXFxyXFxuaHRtbCB7XFxyXFxuICB3aWR0aDogMTAwJTtcXHJcXG4gIGhlaWdodDogMTAwJTtcXHJcXG59XFxyXFxuKiB7XFxyXFxuICBtYXJnaW46IDA7XFxyXFxuICBwYWRkaW5nOiAwO1xcclxcbn1cXHJcXG5oMSB7XFxyXFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxyXFxufVxcclxcbi5jb250YWluZXIge1xcclxcbiAgd2lkdGg6IDEwMCU7XFxyXFxuICBoZWlnaHQ6IDgwJTtcXHJcXG4gIGRpc3BsYXk6IGZsZXg7XFxyXFxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XFxyXFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcclxcbn1cXHJcXG4uZ3JpZCB7XFxyXFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcclxcbiAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XFxyXFxuICB3aWR0aDogMTAlO1xcclxcbiAgaGVpZ2h0OiAxMCU7XFxyXFxufVxcclxcbi5ncmlkOmhvdmVyIHtcXHJcXG4gIGJvcmRlcjogNXB4IHNvbGlkIHB1cnBsZTtcXHJcXG4gIGN1cnNvcjogY3Jvc3NoYWlyO1xcclxcbn1cXHJcXG4udGV4dCB7XFxyXFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxyXFxuICBtYXJnaW46IDAgYXV0bztcXHJcXG59XFxyXFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdO1xuXG4gIC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBcIlwiO1xuICAgICAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBpdGVtWzVdICE9PSBcInVuZGVmaW5lZFwiO1xuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgY29udGVudCArPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9O1xuXG4gIC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIGxpc3QuaSA9IGZ1bmN0aW9uIGkobW9kdWxlcywgbWVkaWEsIGRlZHVwZSwgc3VwcG9ydHMsIGxheWVyKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCB1bmRlZmluZWRdXTtcbiAgICB9XG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRoaXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgdmFyIGlkID0gdGhpc1trXVswXTtcbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgX2sgPSAwOyBfayA8IG1vZHVsZXMubGVuZ3RoOyBfaysrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19rXSk7XG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGxheWVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbVs1XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzdXBwb3J0cykge1xuICAgICAgICBpZiAoIWl0ZW1bNF0pIHtcbiAgICAgICAgICBpdGVtWzRdID0gXCJcIi5jb25jYXQoc3VwcG9ydHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs0XSA9IHN1cHBvcnRzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gbGlzdDtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdO1xuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKFwiXFxuXCIpO1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIHN0eWxlc0luRE9NID0gW107XG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRPTS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRPTVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4QnlJZGVudGlmaWVyID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdLFxuICAgICAgc3VwcG9ydHM6IGl0ZW1bNF0sXG4gICAgICBsYXllcjogaXRlbVs1XVxuICAgIH07XG4gICAgaWYgKGluZGV4QnlJZGVudGlmaWVyICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB1cGRhdGVyID0gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucyk7XG4gICAgICBvcHRpb25zLmJ5SW5kZXggPSBpO1xuICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKGksIDAsIHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogdXBkYXRlcixcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuZnVuY3Rpb24gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgYXBpID0gb3B0aW9ucy5kb21BUEkob3B0aW9ucyk7XG4gIGFwaS51cGRhdGUob2JqKTtcbiAgdmFyIHVwZGF0ZXIgPSBmdW5jdGlvbiB1cGRhdGVyKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXAgJiYgbmV3T2JqLnN1cHBvcnRzID09PSBvYmouc3VwcG9ydHMgJiYgbmV3T2JqLmxheWVyID09PSBvYmoubGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYXBpLnVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVtb3ZlKCk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gdXBkYXRlcjtcbn1cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuICAgICAgaWYgKHN0eWxlc0luRE9NW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRPTVtfaW5kZXhdLnVwZGF0ZXIoKTtcbiAgICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBtZW1vID0ge307XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZ2V0VGFyZ2V0KHRhcmdldCkge1xuICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcblxuICAgIC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG4gICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgfVxuICByZXR1cm4gbWVtb1t0YXJnZXRdO1xufVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydEJ5U2VsZWN0b3IoaW5zZXJ0LCBzdHlsZSkge1xuICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KGluc2VydCk7XG4gIGlmICghdGFyZ2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgfVxuICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRCeVNlbGVjdG9yOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBvcHRpb25zLnNldEF0dHJpYnV0ZXMoZWxlbWVudCwgb3B0aW9ucy5hdHRyaWJ1dGVzKTtcbiAgb3B0aW9ucy5pbnNlcnQoZWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydFN0eWxlRWxlbWVudDsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMoc3R5bGVFbGVtZW50KSB7XG4gIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gXCJ1bmRlZmluZWRcIiA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcbiAgaWYgKG5vbmNlKSB7XG4gICAgc3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXM7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IFwiXCI7XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChvYmouc3VwcG9ydHMsIFwiKSB7XCIpO1xuICB9XG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKTtcbiAgfVxuICB2YXIgbmVlZExheWVyID0gdHlwZW9mIG9iai5sYXllciAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIkBsYXllclwiLmNvbmNhdChvYmoubGF5ZXIubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChvYmoubGF5ZXIpIDogXCJcIiwgXCIge1wiKTtcbiAgfVxuICBjc3MgKz0gb2JqLmNzcztcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfVxuXG4gIC8vIEZvciBvbGQgSUVcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuICBvcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xufVxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlRWxlbWVudC5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZG9tQVBJKG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiB7XG4gICAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHt9LFxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7fVxuICAgIH07XG4gIH1cbiAgdmFyIHN0eWxlRWxlbWVudCA9IG9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICByZXR1cm4ge1xuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKG9iaikge1xuICAgICAgYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcbiAgICB9XG4gIH07XG59XG5tb2R1bGUuZXhwb3J0cyA9IGRvbUFQSTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCkge1xuICBpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICB9XG4gICAgc3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHN0eWxlVGFnVHJhbnNmb3JtOyIsImltcG9ydCB7XHJcbiAgcmVuZGVyQm9hcmQsXHJcbiAgcmVuZGVyU3RhdHVzLFxyXG4gIHJlbmRlclR1cm4sXHJcbiAgcmVuZGVyV2lubmVyLFxyXG4gIGhpZGVHcmlkLFxyXG59IGZyb20gXCIuL3ZpZXdcIjtcclxuaW1wb3J0IHsgU2hpcCwgR2FtZWJvYXJkLCBQbGF5ZXIgfSBmcm9tIFwiLi9tb2RlbFwiO1xyXG5jb25zdCBwbGFjZW1lbnRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3BsYWNlbWVudFwiKTtcclxuY29uc3QgY29uZmlybUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY29uZmlybUJ0blwiKTtcclxuY29uc3QgZGlhbG9nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImRpYWxvZ1wiKTtcclxuY29uc3Qgc2V0U3RydWN0dXJlID0gKCkgPT4ge1xyXG4gIHBsYWNlbWVudEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgcGxhY2VtZW50QnRuLnRleHRDb250ZW50ID0gcGxhY2VtZW50QnRuLnRleHRDb250ZW50ID09PSBcImhcIiA/IFwidlwiIDogXCJoXCI7XHJcbiAgfSk7XHJcbiAgY29uZmlybUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGRpYWxvZy5jbG9zZShjb25maXJtQnRuLnZhbHVlKTtcclxuICB9KTtcclxufTtcclxuY2xhc3MgR2FtZSB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLnAxID0gbmV3IFBsYXllcihcImJha3JcIiwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGF5ZXJcIikpO1xyXG4gICAgdGhpcy5wMiA9IG5ldyBQbGF5ZXIoXCJ6aWFkXCIsIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZW5lbXlcIiksIHRydWUpO1xyXG4gICAgdGhpcy5jdXJyZW50ID0gdGhpcy5wMTtcclxuICAgIHRoaXMubmV4dCA9IHRoaXMucDI7XHJcbiAgICB0aGlzLnNoaXBzID0gW1xyXG4gICAgICB7IG5hbWU6IFwiQ3J1aXNlclwiLCBpZDogMSwgbGVuZ3RoOiA1IH0sXHJcbiAgICAgIHsgbmFtZTogXCJCYXR0bGVzaGlwXCIsIGlkOiAyLCBsZW5ndGg6IDQgfSxcclxuICAgICAgeyBuYW1lOiBcIkNhcnJpZXJcIiwgaWQ6IDMsIGxlbmd0aDogMyB9LFxyXG4gICAgICB7IG5hbWU6IFwiU3VibWFyaW5lXCIsIGlkOiA0LCBsZW5ndGg6IDIgfSxcclxuICAgICAgeyBuYW1lOiBcIkRlc3Ryb3llclwiLCBpZDogNSwgbGVuZ3RoOiAyIH0sXHJcbiAgICBdO1xyXG4gIH1cclxuICBhc3luYyBwbGFjZW1lbnRMb29wKCkge1xyXG4gICAgbGV0IHBsYWNlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcGxhY2VtZW50XCIpO1xyXG4gICAgdGhpcy5jdXJyZW50LmJvYXJkLmJvYXJkID0gW107XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY3VycmVudC5ib2FyZC5zaXplOyBpKyspIHtcclxuICAgICAgdGhpcy5jdXJyZW50LmJvYXJkLmJvYXJkW2ldID0gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdO1xyXG4gICAgfVxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHtcclxuICAgICAgcmVuZGVyVHVybih0aGlzLmN1cnJlbnQubmFtZSk7XHJcbiAgICAgIGNvbnN0IHNoaXAgPSB0aGlzLnNoaXBzLmZpbmQoKHMpID0+IHMuaWQgPT09IGkgKyAxKTtcclxuICAgICAgcmVuZGVyU3RhdHVzKGBQbGFjZSB5b3VyICR7c2hpcC5uYW1lfWApO1xyXG4gICAgICByZW5kZXJCb2FyZCh0aGlzLmN1cnJlbnQpO1xyXG4gICAgICBoaWRlR3JpZCh0aGlzLm5leHQpO1xyXG4gICAgICBsZXQgcmVzdWx0LCBjb29yZHM7XHJcbiAgICAgIGRvIHtcclxuICAgICAgICBjb29yZHMgPSBhd2FpdCB0aGlzLmFkZExpc3RlbmVyKHRoaXMuY3VycmVudCk7XHJcbiAgICAgICAgcmVzdWx0ID0gdGhpcy5jdXJyZW50LmJvYXJkLmNoZWNrU2hpcFBsYWNlbWVudChcclxuICAgICAgICAgIGNvb3Jkcy54LFxyXG4gICAgICAgICAgY29vcmRzLnksXHJcbiAgICAgICAgICBwbGFjZW1lbnQudGV4dENvbnRlbnQsXHJcbiAgICAgICAgICBzaGlwXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHRoaXMuY3VycmVudCk7XHJcbiAgICAgIH0gd2hpbGUgKCFyZXN1bHQpO1xyXG4gICAgICB0aGlzLmN1cnJlbnQuYm9hcmQucGxhY2VTaGlwKFxyXG4gICAgICAgIGNvb3Jkcy54LFxyXG4gICAgICAgIGNvb3Jkcy55LFxyXG4gICAgICAgIHBsYWNlbWVudC50ZXh0Q29udGVudCxcclxuICAgICAgICBzaGlwXHJcbiAgICAgICk7XHJcbiAgICAgIHJlbmRlckJvYXJkKHRoaXMuY3VycmVudCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLnN3aXRjaFR1cm4odGhpcy5jdXJyZW50LCB0aGlzLm5leHQpO1xyXG4gIH1cclxuICBpc0dhbWVPdmVyKCkge1xyXG4gICAgaWYgKHRoaXMubmV4dC5ib2FyZC5mbGVldFN1bmsoKSkgcmV0dXJuIHRydWU7XHJcbiAgICBlbHNlIHJldHVybiBmYWxzZTtcclxuICB9XHJcbiAgYWRkTGlzdGVuZXIocGxheWVyKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgY29uc3QgZGl2cyA9IHBsYXllci5VSS5jaGlsZHJlbjtcclxuICAgICAgY29uc3Qgc2l6ZSA9IHBsYXllci5ib2FyZC5zaXplO1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRpdnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBkaXZzW2ldLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICByZXNvbHZlKHsgeDogTWF0aC5mbG9vcihpIC8gc2l6ZSksIHk6IGkgJSBzaXplIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbiAgcmVtb3ZlTGlzdGVuZXIocGxheWVyKSB7XHJcbiAgICBjb25zdCBkaXZzID0gcGxheWVyLlVJLmNoaWxkcmVuO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaXZzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGxldCBvbGRfZWxlbWVudCA9IGRpdnNbaV07XHJcbiAgICAgIGxldCBuZXdfZWxlbWVudCA9IG9sZF9lbGVtZW50LmNsb25lTm9kZSh0cnVlKTtcclxuICAgICAgb2xkX2VsZW1lbnQucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQobmV3X2VsZW1lbnQsIG9sZF9lbGVtZW50KTtcclxuICAgIH1cclxuICB9XHJcbiAgYXN5bmMgZ2FtZUxvb3AoKSB7XHJcbiAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICByZW5kZXJUdXJuKHRoaXMuY3VycmVudC5uYW1lKTtcclxuICAgICAgcmVuZGVyQm9hcmQodGhpcy5jdXJyZW50KTtcclxuICAgICAgaGlkZUdyaWQodGhpcy5uZXh0KTtcclxuICAgICAgY29uc3QgY29vcmRzID0gYXdhaXQgdGhpcy5hZGRMaXN0ZW5lcih0aGlzLm5leHQpO1xyXG4gICAgICBjb25zdCByZXN1bHQgPSB0aGlzLmN1cnJlbnQuYXR0YWNrKHRoaXMubmV4dCwgY29vcmRzLngsIGNvb3Jkcy55KTtcclxuICAgICAgY29uc3Qgc3RyID0gcmVzdWx0ID09PSAtMSA/IFwiYWxyZWFkeSBoaXRcIiA6IHJlc3VsdCA9PT0gMCA/IFwibWlzc1wiIDogXCJoaXRcIjtcclxuICAgICAgcmVuZGVyU3RhdHVzKFxyXG4gICAgICAgIGAke3RoaXMuY3VycmVudC5uYW1lfSBhdHRhY2tzICR7dGhpcy5uZXh0Lm5hbWV9IGF0ICgke2Nvb3Jkcy54fSwgJHtjb29yZHMueX0pIHdpdGggJHtzdHJ9IGBcclxuICAgICAgKTtcclxuICAgICAgaWYgKHJlc3VsdCA9PT0gLTEpIHtcclxuICAgICAgICBjb250aW51ZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAocmVzdWx0ID09PSAxKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNHYW1lT3ZlcigpKSB7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuc3dpdGNoVHVybih0aGlzLm5leHQsIHRoaXMuY3VycmVudCk7XHJcbiAgICB9XHJcbiAgICByZW5kZXJCb2FyZCh0aGlzLnAxKTtcclxuICAgIHJlbmRlckJvYXJkKHRoaXMucDIpO1xyXG4gICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0aGlzLnAxKTtcclxuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodGhpcy5wMik7XHJcbiAgICByZW5kZXJXaW5uZXIodGhpcy5jdXJyZW50Lm5hbWUpO1xyXG4gIH1cclxuXHJcbiAgc3dpdGNoVHVybihzcmMsIGRlc3QpIHtcclxuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIoc3JjKTtcclxuICAgIHRoaXMuYWRkTGlzdGVuZXIoZGVzdCk7XHJcbiAgICBsZXQgdG1wID0gdGhpcy5jdXJyZW50O1xyXG4gICAgdGhpcy5jdXJyZW50ID0gdGhpcy5uZXh0O1xyXG4gICAgdGhpcy5uZXh0ID0gdG1wO1xyXG4gIH1cclxufVxyXG5zZXRTdHJ1Y3R1cmUoKTtcclxuY29uc3QgZ2FtZSA9IG5ldyBHYW1lKCk7XHJcbmdhbWVcclxuICAucGxhY2VtZW50TG9vcCgpXHJcbiAgLnRoZW4oKCkgPT4gZ2FtZS5wbGFjZW1lbnRMb29wKCkpXHJcbiAgLnRoZW4oKCkgPT4gZ2FtZS5nYW1lTG9vcCgpKTtcclxuIiwiY2xhc3MgU2hpcCB7XHJcbiAgY29uc3RydWN0b3IoaWQsIGxlbmd0aCkge1xyXG4gICAgdGhpcy5pZCA9IGlkO1xyXG4gICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XHJcbiAgICB0aGlzLmhpdHMgPSAwO1xyXG4gIH1cclxuICBoaXQoKSB7XHJcbiAgICB0aGlzLmhpdHMrKztcclxuICB9XHJcbiAgaXNTdW5rKCkge1xyXG4gICAgcmV0dXJuIHRoaXMubGVuZ3RoIC0gdGhpcy5oaXRzID09PSAwO1xyXG4gIH1cclxufVxyXG5jbGFzcyBHYW1lYm9hcmQge1xyXG4gIGNvbnN0cnVjdG9yKHNpemUpIHtcclxuICAgIHRoaXMuYm9hcmQgPSBbXTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XHJcbiAgICAgIHRoaXMuYm9hcmRbaV0gPSBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF07XHJcbiAgICB9XHJcbiAgICB0aGlzLmZsZWV0ID0gW107XHJcbiAgICB0aGlzLnNpemUgPSBzaXplO1xyXG4gIH1cclxuICBwbGFjZVNoaXAoeCwgeSwgb3JpZW50LCBidWlsZCkge1xyXG4gICAgY29uc3Qgc2hpcCA9IG5ldyBTaGlwKGJ1aWxkLmlkLCBidWlsZC5sZW5ndGgpO1xyXG4gICAgaWYgKG9yaWVudCA9PT0gXCJoXCIpIHtcclxuICAgICAgZm9yIChsZXQgaSA9IHk7IGkgPCB5ICsgc2hpcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHRoaXMuYm9hcmRbeF1baV0gPSBzaGlwLmlkO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmb3IgKGxldCBpID0geDsgaSA8IHggKyBzaGlwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdGhpcy5ib2FyZFtpXVt5XSA9IHNoaXAuaWQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMuZmxlZXQucHVzaChzaGlwKTtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuICBjaGVja1NoaXBQbGFjZW1lbnQoeCwgeSwgb3JpZW50ID0gXCJoXCIsIHNoaXApIHtcclxuICAgIGlmIChvcmllbnQgPT09IFwiaFwiKVxyXG4gICAgICBpZiAoeSArIHNoaXAubGVuZ3RoID49IHRoaXMuc2l6ZSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICBlbHNlIGlmIChvcmllbnQgPT09IFwidlwiKSBpZiAoeCArIHNoaXAubGVuZ3RoID49IHRoaXMuc2l6ZSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgaWYgKG9yaWVudCA9PT0gXCJoXCIpIHtcclxuICAgICAgZm9yIChsZXQgaSA9IHk7IGkgPCB5ICsgc2hpcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmICh0aGlzLmJvYXJkW3hdW2ldICE9PSAwKSB7XHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZm9yIChsZXQgaSA9IHg7IGkgPCB4ICsgc2hpcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmICh0aGlzLmJvYXJkW2ldW3ldICE9PSAwKSB7XHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gIH1cclxuICByZWNlaXZlQXR0YWNrKHgsIHkpIHtcclxuICAgIGlmICh0aGlzLmJvYXJkW3hdW3ldID09PSAwKSByZXR1cm4gMDtcclxuICAgIGVsc2UgaWYgKHRoaXMuYm9hcmRbeF1beV0gPT09IC0xKSByZXR1cm4gLTE7XHJcbiAgICBlbHNlIHtcclxuICAgICAgY29uc3Qgc2hpcCA9IHRoaXMuZmxlZXQuZmluZCgocykgPT4gcy5pZCA9PT0gdGhpcy5ib2FyZFt4XVt5XSk7XHJcbiAgICAgIHNoaXAuaGl0KCk7XHJcbiAgICAgIHRoaXMuYm9hcmRbeF1beV0gPSAtMTtcclxuICAgICAgcmV0dXJuIDE7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGZsZWV0U3VuaygpIHtcclxuICAgIHJldHVybiB0aGlzLmZsZWV0LmV2ZXJ5KChzaGlwKSA9PiBzaGlwLmlzU3VuaygpKTtcclxuICB9XHJcbn1cclxuY2xhc3MgUGxheWVyIHtcclxuICBjb25zdHJ1Y3RvcihuYW1lLCBVSSwgYWkgPSBmYWxzZSkge1xyXG4gICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgIHRoaXMuYm9hcmQgPSBuZXcgR2FtZWJvYXJkKDEwKTtcclxuICAgIHRoaXMuYWkgPSBhaTtcclxuICAgIHRoaXMuVUkgPSBVSTtcclxuICB9XHJcbiAgYXR0YWNrKGVuZW15LCB4LCB5KSB7XHJcbiAgICBjb25zdCByZXN1bHQgPSBlbmVteS5ib2FyZC5yZWNlaXZlQXR0YWNrKHgsIHkpO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9XHJcbn1cclxuZXhwb3J0IHsgU2hpcCwgR2FtZWJvYXJkLCBQbGF5ZXIgfTtcclxuIiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiaW1wb3J0IHN0eWxlIGZyb20gXCIuL3N0eWxlLmNzc1wiO1xyXG5jb25zdCBOID0gMTA7XHJcbmNvbnN0IHJlbmRlckdyaWRzID0gKCkgPT4ge1xyXG4gIGNvbnN0IGJvYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYm9hcmRcIik7XHJcbiAgYm9hcmRzLmZvckVhY2goKGJvYXJkKSA9PiB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IE47IGkrKykge1xyXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IE47IGorKykge1xyXG4gICAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgZGl2LmNsYXNzTGlzdC5hZGQoXCJncmlkXCIpO1xyXG4gICAgICAgIGJvYXJkLmFwcGVuZENoaWxkKGRpdik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KTtcclxufTtcclxucmVuZGVyR3JpZHMoKTtcclxuY29uc3QgcmVuZGVyQm9hcmQgPSAocGxheWVyKSA9PiB7XHJcbiAgY29uc3QgYm9hcmQgPSBwbGF5ZXIuYm9hcmQuYm9hcmQ7XHJcbiAgY29uc3QgY29udGFpbmVyID0gcGxheWVyLlVJO1xyXG4gIGNvbnN0IGRpdnMgPSBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbChcIi5ncmlkXCIpO1xyXG4gIGNvbnN0IHNpemUgPSBib2FyZC5sZW5ndGg7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcclxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgc2l6ZTsgaisrKSB7XHJcbiAgICAgIGNvbnN0IGRpdiA9IGRpdnNbaiArIGkgKiBzaXplXTtcclxuICAgICAgaWYgKGJvYXJkW2ldW2pdID09PSAwKSB7XHJcbiAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiYmx1ZVwiO1xyXG4gICAgICB9IGVsc2UgaWYgKGJvYXJkW2ldW2pdID09PSAtMSkge1xyXG4gICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJlZFwiO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImdyZWVuXCI7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn07XHJcbmNvbnN0IHJlbmRlclN0YXR1cyA9ICh0ZXh0KSA9PiB7XHJcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNzdGF0XCIpLnRleHRDb250ZW50ID0gdGV4dDtcclxufTtcclxuY29uc3QgaGlkZUdyaWQgPSAocGxheWVyKSA9PiB7XHJcbiAgY29uc3QgZGl2cyA9IHBsYXllci5VSS5jaGlsZHJlbjtcclxuICBjb25zdCBzaXplID0gcGxheWVyLmJvYXJkLmJvYXJkLmxlbmd0aDtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGRpdnMubGVuZ3RoOyBpKyspIHtcclxuICAgIGxldCB4ID0gTWF0aC5mbG9vcihpIC8gc2l6ZSk7XHJcbiAgICBsZXQgeSA9IGkgJSBzaXplO1xyXG4gICAgaWYgKHBsYXllci5ib2FyZC5ib2FyZFt4XVt5XSA9PT0gLTEpIHtcclxuICAgICAgZGl2c1tpXS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJlZFwiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZGl2c1tpXS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImdyZXlcIjtcclxuICAgIH1cclxuICB9XHJcbn07XHJcbmNvbnN0IHJlbmRlclR1cm4gPSAodHVybikgPT4ge1xyXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdHVyblwiKS50ZXh0Q29udGVudCA9IGAke3R1cm59J3MgdHVybmA7XHJcbn07XHJcbmNvbnN0IHJlbmRlcldpbm5lciA9ICh3aW5uZXIpID0+IHtcclxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3dpbm5lclwiKS50ZXh0Q29udGVudCA9IGAke3dpbm5lcn0gd2lucyFgO1xyXG59O1xyXG5leHBvcnQgeyByZW5kZXJCb2FyZCwgcmVuZGVyU3RhdHVzLCByZW5kZXJUdXJuLCByZW5kZXJXaW5uZXIsIGhpZGVHcmlkIH07XHJcbiJdLCJuYW1lcyI6WyJfX19DU1NfTE9BREVSX0VYUE9SVF9fXyIsInB1c2giLCJtb2R1bGUiLCJpZCIsImV4cG9ydHMiLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibGlzdCIsInRvU3RyaW5nIiwidGhpcyIsIm1hcCIsIml0ZW0iLCJjb250ZW50IiwibmVlZExheWVyIiwiY29uY2F0IiwibGVuZ3RoIiwiam9pbiIsImkiLCJtb2R1bGVzIiwibWVkaWEiLCJkZWR1cGUiLCJzdXBwb3J0cyIsImxheWVyIiwidW5kZWZpbmVkIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImsiLCJfayIsImNzc01hcHBpbmciLCJidG9hIiwiYmFzZTY0IiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiZGF0YSIsInNvdXJjZU1hcHBpbmciLCJzdHlsZXNJbkRPTSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsInJlc3VsdCIsIm1vZHVsZXNUb0RvbSIsIm9wdGlvbnMiLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJiYXNlIiwiY291bnQiLCJpbmRleEJ5SWRlbnRpZmllciIsIm9iaiIsImNzcyIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwiYWRkRWxlbWVudFN0eWxlIiwiYnlJbmRleCIsInNwbGljZSIsImFwaSIsImRvbUFQSSIsInVwZGF0ZSIsIm5ld09iaiIsInJlbW92ZSIsImxhc3RJZGVudGlmaWVycyIsIm5ld0xpc3QiLCJpbmRleCIsIm5ld0xhc3RJZGVudGlmaWVycyIsIl9pIiwiX2luZGV4IiwibWVtbyIsImluc2VydCIsInN0eWxlIiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ3aW5kb3ciLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJlIiwiZ2V0VGFyZ2V0IiwiRXJyb3IiLCJhcHBlbmRDaGlsZCIsImVsZW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlcyIsImF0dHJpYnV0ZXMiLCJzdHlsZUVsZW1lbnQiLCJub25jZSIsInNldEF0dHJpYnV0ZSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlVGFnVHJhbnNmb3JtIiwiYXBwbHkiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImZpcnN0Q2hpbGQiLCJjcmVhdGVUZXh0Tm9kZSIsInBsYWNlbWVudEJ0biIsImNvbmZpcm1CdG4iLCJkaWFsb2ciLCJhZGRFdmVudExpc3RlbmVyIiwidGV4dENvbnRlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImNsb3NlIiwidmFsdWUiLCJnYW1lIiwiY29uc3RydWN0b3IiLCJwMSIsInAyIiwiY3VycmVudCIsIm5leHQiLCJzaGlwcyIsIm5hbWUiLCJwbGFjZW1lbnRMb29wIiwicGxhY2VtZW50IiwiYm9hcmQiLCJzaXplIiwic2hpcCIsImZpbmQiLCJzIiwiY29vcmRzIiwiYWRkTGlzdGVuZXIiLCJjaGVja1NoaXBQbGFjZW1lbnQiLCJ4IiwieSIsInJlbW92ZUxpc3RlbmVyIiwicGxhY2VTaGlwIiwic3dpdGNoVHVybiIsImlzR2FtZU92ZXIiLCJmbGVldFN1bmsiLCJwbGF5ZXIiLCJQcm9taXNlIiwicmVzb2x2ZSIsImRpdnMiLCJVSSIsImNoaWxkcmVuIiwiTWF0aCIsImZsb29yIiwib2xkX2VsZW1lbnQiLCJuZXdfZWxlbWVudCIsImNsb25lTm9kZSIsInJlcGxhY2VDaGlsZCIsImdhbWVMb29wIiwiYXR0YWNrIiwic3RyIiwic3JjIiwiZGVzdCIsInRtcCIsInRoZW4iLCJTaGlwIiwiaGl0cyIsImhpdCIsImlzU3VuayIsIkdhbWVib2FyZCIsImZsZWV0Iiwib3JpZW50IiwiYnVpbGQiLCJyZWNlaXZlQXR0YWNrIiwiZXZlcnkiLCJQbGF5ZXIiLCJhaSIsImVuZW15IiwibG9jYWxzIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJqIiwiZGl2IiwiY2xhc3NMaXN0IiwiYWRkIiwicmVuZGVyQm9hcmQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJyZW5kZXJTdGF0dXMiLCJ0ZXh0IiwiaGlkZUdyaWQiLCJyZW5kZXJUdXJuIiwidHVybiIsInJlbmRlcldpbm5lciIsIndpbm5lciJdLCJzb3VyY2VSb290IjoiIn0=